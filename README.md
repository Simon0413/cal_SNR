# This is a tool used to calculate the signal-to-noise ratio of the seismic phase.
### File Description
#### sta_file:File of seismic station information
```
X3 13806 01 115.0495 41.2096 01464
X3 13813 01 115.1226 39.9459 01403
X3 13819 01 114.2153 38.9722 00489
X3 13820 01 114.6726 38.9482 00278
X3 14821 01 112.1694 38.3344 01441
X3 14827 01 112.1255 38.6427 01395
```
#### pha_file:File of seismic events and phases
```
##EVENT SX.201709270625.0002 eq 2017 09 26 jday 22 25 42 040000 LOC 112.489 37.823 DEP 13 MAG ML 2.3
P,10.35,0.935,2017-09-26 22:25:52.390000,X3.14821.01,DIST,63.3726
P,14.705,0.803,2017-09-26 22:25:56.745000,X3.14868.01,DIST,87.6998
P,15.89,0.833,2017-09-26 22:25:57.930000,X3.14827.01,DIST,96.5173
S,18.13,0.624,2017-09-26 22:26:00.170000,X3.14821.01,DIST,63.3726
P,23.945,0.879,2017-09-26 22:26:05.985000,X3.14880.01,DIST,144.856
P,25.91,0.641,2017-09-26 22:26:07.950000,X3.14871.01,DIST,160.487
P,26.825,0.891,2017-09-26 22:26:08.865000,X3.14864.01,DIST,165.713
S,27.79,0.527,2017-09-26 22:26:09.830000,X3.14827.01,DIST,96.5173
P,31.69,0.716,2017-09-26 22:26:13.730000,X3.13819.01,DIST,197.378
P,37.045,0.645,2017-09-26 22:26:19.085000,X3.13820.01,DIST,227.754
S,40.975,0.605,2017-09-26 22:26:23.015000,X3.14880.01,DIST,144.856
S,46.995,0.559,2017-09-26 22:26:29.035000,X3.14864.01,DIST,165.713
S,64.125,0.549,2017-09-26 22:26:46.165000,X3.13820.01,DIST,227.754
P,67.665,0.514,2017-09-26 22:26:49.705000,X3.14868.01,DIST,87.6998
```
#### sql_file:An index file that records the location of the seismic record files.
Run the following command to get the file:
```
python genSqlite.py [-h] [-f FILE] [-s SQL]
```
#### tt_file:Forward predictive travel time file.
Save as python dictionary.
```
{'SX.201709270625.0002': {
  'X313806': {'dist': 435.8122914157842,'P': 62.2626534,'S': 110.098602},
  'X313813': {'dist': 328.28719018175747, 'P': 48.838295, 'S': 85.8562088},
  'X313819': {'dist': 197.52663553195669, 'P': 32.0369186, 'S':55.2372932},
  'X313820': {'dist': 228.03437331828783, 'P': 36.0338669, 'S':62.3491554},
  'X314821': {'dist': 63.315123835294955, 'P': 10.9976254, 'S': 18.8027534},
  'X314827': {'dist': 96.3992131100968, 'P': 16.2374134, 'S': 27.8171825},
  'X314864': {'dist': 165.91380256135807, 'P': 27.187582, 'S': 46.2723961},
  'X314868': {'dist': 87.53148591272681, 'P': 15.307313, 'S': 26.0283241},
  'X314871': {'dist': 160.47174566661747, 'P': 26.6539764, 'S': 45.3031235},
  'X314880': {'dist': 144.57660000182346, 'P': 24.2713947, 'S': 41.2875137}}}
```
### Usage
```
python cal_snr.py [-h] [-s STATION] [-p PHASE_FILE] [-sql SQLITE] [-tt TT_JSON] [-o OUTPUT]
```
### Environment
```
conda env create -f SNR.ymal 
```
